import{r as l,R as L}from"./react-DOKUib4L.js";import{u as P,c as E,a as R,b as m,e as b,d as T,L as h,f as z,g as S,h as x,i as j,w as B}from"./@react-leaflet-BcmaozC2.js";import{l as p}from"./leaflet-SGQCfi_b.js";import"./react-dom-b-hWN9q_.js";function _(){return P().map}const k=E(function({center:n,children:e,...a},t){const c=new p.Circle(n,a);return m(c,b(t,{overlayContainer:c}))},R);function G({bounds:u,boundsOptions:n,center:e,children:a,className:t,id:c,placeholder:i,style:d,whenReady:f,zoom:r,...C},w){const[M]=l.useState({className:t,id:c,style:d}),[o,v]=l.useState(null),y=l.useRef(void 0);l.useImperativeHandle(w,()=>(o==null?void 0:o.map)??null,[o]);const I=l.useCallback(g=>{if(g!==null&&!y.current){const s=new p.Map(g,C);y.current=s,e!=null&&r!=null?s.setView(e,r):u!=null&&s.fitBounds(u,n),f!=null&&s.whenReady(f),v(T(s))}},[]);l.useEffect(()=>()=>{o==null||o.map.remove()},[o]);const O=o?L.createElement(h,{value:o},a):i??null;return L.createElement("div",{...M,ref:I},O)}const q=l.forwardRef(G),A=z(function({position:n,...e},a){const t=new p.Marker(n,e);return m(t,b(a,{overlayContainer:t}))},function(n,e,a){e.position!==a.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==a.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==a.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==a.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==a.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),D=S(function(n,e){const a=new p.Popup(n,e.overlayContainer);return m(a,e)},function(n,e,{position:a},t){l.useEffect(function(){const{instance:i}=n;function d(r){r.popup===i&&(i.update(),t(!0))}function f(r){r.popup===i&&t(!1)}return e.map.on({popupopen:d,popupclose:f}),e.overlayContainer==null?(a!=null&&i.setLatLng(a),i.openOn(e.map)):e.overlayContainer.bindPopup(i),function(){var C;e.map.off({popupopen:d,popupclose:f}),(C=e.overlayContainer)==null||C.unbindPopup(),e.map.removeLayer(i)}},[n,e,t,a])}),F=x(function({url:n,...e},a){const t=new p.TileLayer(n,B(e,a));return m(t,a)},function(n,e,a){j(n,e,a);const{url:t}=e;t!=null&&t!==a.url&&n.setUrl(t)});export{k as C,q as M,D as P,F as T,A as a,_ as u};
