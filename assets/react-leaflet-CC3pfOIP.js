import{r as u,R as P}from"./react-DOKUib4L.js";import{u as E,c as b,a as R,b as d,e as m,d as T,L as h,f as z,g as S,h as x,i as j,w as B}from"./@react-leaflet-BcmaozC2.js";import{l as c}from"./leaflet-SGQCfi_b.js";import"./react-dom-b-hWN9q_.js";function _(){return E().map}const k=b(function({center:n,children:e,...a},t){const s=new c.Circle(n,a);return d(s,m(t,{overlayContainer:s}))},R);function G({bounds:o,boundsOptions:n,center:e,children:a,className:t,id:s,placeholder:l,style:y,whenReady:f,zoom:r,...C},w){const[v]=u.useState({className:t,id:s,style:y}),[i,M]=u.useState(null),g=u.useRef(void 0);u.useImperativeHandle(w,()=>(i==null?void 0:i.map)??null,[i]);const I=u.useCallback(L=>{if(L!==null&&!g.current){const p=new c.Map(L,C);g.current=p,e!=null&&r!=null?p.setView(e,r):o!=null&&p.fitBounds(o,n),f!=null&&p.whenReady(f),M(T(p))}},[]);u.useEffect(()=>()=>{i==null||i.map.remove()},[i]);const O=i?P.createElement(h,{value:i},a):l??null;return P.createElement("div",{...v,ref:I},O)}const q=u.forwardRef(G),A=z(function({position:n,...e},a){const t=new c.Marker(n,e);return d(t,m(a,{overlayContainer:t}))},function(n,e,a){e.position!==a.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==a.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==a.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==a.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==a.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),D=b(function({positions:n,...e},a){const t=new c.Polyline(n,e);return d(t,m(a,{overlayContainer:t}))},function(n,e,a){e.positions!==a.positions&&n.setLatLngs(e.positions)}),F=S(function(n,e){const a=new c.Popup(n,e.overlayContainer);return d(a,e)},function(n,e,{position:a},t){u.useEffect(function(){const{instance:l}=n;function y(r){r.popup===l&&(l.update(),t(!0))}function f(r){r.popup===l&&t(!1)}return e.map.on({popupopen:y,popupclose:f}),e.overlayContainer==null?(a!=null&&l.setLatLng(a),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){var C;e.map.off({popupopen:y,popupclose:f}),(C=e.overlayContainer)==null||C.unbindPopup(),e.map.removeLayer(l)}},[n,e,t,a])}),J=x(function({url:n,...e},a){const t=new c.TileLayer(n,B(e,a));return d(t,a)},function(n,e,a){j(n,e,a);const{url:t}=e;t!=null&&t!==a.url&&n.setUrl(t)});export{k as C,q as M,F as P,J as T,A as a,D as b,_ as u};
