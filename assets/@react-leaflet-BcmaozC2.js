import{r as c,R as E}from"./react-DOKUib4L.js";import"./leaflet-SGQCfi_b.js";import{r as O}from"./react-dom-b-hWN9q_.js";function m(e,n){const t=c.useRef(n);c.useEffect(function(){n!==t.current&&e.attributionControl!=null&&(t.current!=null&&e.attributionControl.removeAttribution(t.current),n!=null&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}function j(e,n,t){n.center!==t.center&&e.setLatLng(n.center),n.radius!=null&&n.radius!==t.radius&&e.setRadius(n.radius)}const x=1;function k(e){return Object.freeze({__version:x,map:e})}function A(e,n){return Object.freeze({...e,...n})}const y=c.createContext(null);function s(){const e=c.use(y);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function C(e){function n(t,r){const{instance:u,context:o}=e(t).current;c.useImperativeHandle(r,()=>u);const{children:a}=t;return a==null?null:E.createElement(y,{value:o},a)}return c.forwardRef(n)}function h(e){function n(t,r){const[u,o]=c.useState(!1),{instance:a}=e(t,o).current;c.useImperativeHandle(r,()=>a),c.useEffect(function(){u&&a.update()},[a,u,t.children]);const i=a._contentNode;return i?O.createPortal(t.children,i):null}return c.forwardRef(n)}function b(e){function n(t,r){const{instance:u}=e(t).current;return c.useImperativeHandle(r,()=>u),null}return c.forwardRef(n)}function l(e,n){const t=c.useRef(void 0);c.useEffect(function(){return n!=null&&e.instance.on(n),t.current=n,function(){t.current!=null&&e.instance.off(t.current),t.current=null}},[e,n])}function d(e,n){const t=e.pane??n.pane;return t?{...e,pane:t}:e}function H(e,n){return function(r,u){const o=s(),a=e(d(r,o),o);return m(o.map,r.attribution),l(a.current,r.eventHandlers),n(a.current,o,r,u),a}}function D(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function f(e,n){return n==null?function(r,u){const o=c.useRef(void 0);return o.current||(o.current=e(r,u)),o}:function(r,u){const o=c.useRef(void 0);o.current||(o.current=e(r,u));const a=c.useRef(r),{instance:i}=o.current;return c.useEffect(function(){a.current!==r&&(n(i,r,a.current),a.current=r)},[i,r,n]),o}}function L(e,n){c.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var o;(o=n.layerContainer)==null||o.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function v(e){return function(t){const r=s(),u=e(d(t,r),r);return m(r.map,t.attribution),l(u.current,t.eventHandlers),L(u.current,r),u}}function I(e,n){const t=c.useRef(void 0);c.useEffect(function(){if(n.pathOptions!==t.current){const u=n.pathOptions??{};e.instance.setStyle(u),t.current=u}},[e,n])}function w(e){return function(t){const r=s(),u=e(d(t,r),r);return l(u.current,t.eventHandlers),L(u.current,r),I(u.current,t),u}}function _(e,n){const t=f(e,n),r=v(t);return C(r)}function S(e,n){const t=f(e),r=H(t,n);return h(r)}function T(e,n){const t=f(e,n),r=w(t);return C(r)}function g(e,n){const t=f(e,n),r=v(t);return b(r)}function M(e,n,t){const{opacity:r,zIndex:u}=n;r!=null&&r!==t.opacity&&e.setOpacity(r),u!=null&&u!==t.zIndex&&e.setZIndex(u)}export{y as L,j as a,D as b,T as c,k as d,A as e,_ as f,S as g,g as h,M as i,s as u,d as w};
